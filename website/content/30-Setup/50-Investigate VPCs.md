+++
title = "Investigate the VPCs"
menutitle = "Investigate"
chapter = false
weight = 50
+++

## Look at the Subnets, Route Tables, etc.

1. In the AWS Management Console change to the region you plan to work in. This is in the upper right hand drop down menu.

1. In the AWS Management Console choose **Services** then select **VPC**.

1. From the left-hand menu select **Your VPCs**.

1. Notice we have Created the following VPCs

   - P1-_your_stack_name_
   - NP1-_your_stack_name_
   - NP2-_your_stack_name_
   - DCS1-_your_stack_name_
   - DS1-_your_stack_name_

   ![VPCs](../images/vpc-yourvpcs.png)

1. Feel free to investigate other aspects of the VPC, such as the **subnets** and the **route tables**. You will notice for example both NP1-_your_stack_name_-Priv-A Subnet and NP1-_your_stack_name_-Priv-B Subnet share the same **route table**, NP1-_your_stack_name_-Private Route Table. And that route table only has a route for the local VPC CIDR block. We will be changing that in the next lab, so that you can route outside of the NP1 VPC.

   ![VPC Route Table](../images/vpc-routetable.png)

## Connect to the shell of a Linux EC2 instance

1. In the AWS Management Console choose **Services** then select **Systems Manager**. *AWS Systems Manager allows you to gain operational insight and take action on AWS resources. We are going to take a look a just one of several capabilities of Systems Manager.*

1. From the menu on the left, Scroll down and select **Session Manager**. Session Manager allows us to use IAM roles and policies to determine who has console access without having to manage SSH keys for our instances.

1. In the main pane, click the **Start session** button. Select the radio button next to the instance you wish to log into ( such as NP1-*Your_-_Stack_Name*-server). You will now receive a Bash shell prompt for that instance.

1. Run a few commands like **ifconfig** or **cat /etc/resolv.conf**

   ```
   sh-4.2$ ifconfig
   eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 9001
           inet 10.16.21.58  netmask 255.255.248.0  broadcast 10.16.23.255
           inet6 fe80::13:45ff:fe79:926c  prefixlen 64  scopeid 0x20<link>
           ether 02:13:45:79:92:6c  txqueuelen 1000  (Ethernet)
           RX packets 963  bytes 177300 (173.1 KiB)
           RX errors 0  dropped 0  overruns 0  frame 0
           TX packets 1474  bytes 317453 (310.0 KiB)
           TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

   lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
           inet 127.0.0.1  netmask 255.0.0.0
           inet6 ::1  prefixlen 128  scopeid 0x10<host>
           loop  txqueuelen 1000  (Local Loopback)
           RX packets 8  bytes 648 (648.0 B)
           RX errors 0  dropped 0  overruns 0  frame 0
           TX packets 8  bytes 648 (648.0 B)
           TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

   sh-4.2$ cat /etc/resolv.conf
   ; generated by /usr/sbin/dhclient-script
   search us-west-2.compute.internal
   options timeout:2 attempts:5
   nameserver 10.16.0.2
   ```

*You can also access the **AWS Systems Manager Session Manager** via the **EC2** Console's **Action** button. From there select **Connect** and choose the **Session Manager** tab and click the **Connect** button on the bottom right.*


# Congratulations

You now have **completed** this section. Continue to the next section to setup communication between the VPCs and your Datacenter.
